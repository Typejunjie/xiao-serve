{"version":3,"sources":["webpack:///./public/01bb185d43ffb.jpg","webpack:///./src/api/refresh.js","webpack:///./src/views/userview.vue","webpack:///./src/views/userview.vue?db47","webpack:///./public/012ed85.jpg","webpack:///./src/views/userview.vue?ab0e","webpack:///./public/b1c1ef0.jpg"],"names":["module","exports","_this","params","corrent","skip","username","$store","state","newKey","dispatch","http","axios","post","defaulthttp","class","commit","src","img","alt","type","spellcheck","password","login","font","button","onLineMessage","onLine","fillOnLine","data","this","onLineState","imgArray","imgIndex","mounted","localStorage","activated","clearInterval","window","time","setInterval","methods","then","res","Promise","reject","refresh","catch","content","meta","keepAlive","__exports__","render"],"mappings":"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","file":"js/chunk-040bdae0.e7989826.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/01bb185d43ffb.84763ef2.jpg\";","// 刷新页面数据\r\n\r\nexport default function (_this) {\r\n    let params = {\r\n      corrent: 999,\r\n      skip: 0,\r\n      username: _this.$store.state.username,\r\n      newKey: _this.$store.state.newKey\r\n    };\r\n    _this.$store.dispatch(\"refreshdata\", {\r\n      http: _this.axios.post(\r\n        \"http://\" + _this.$store.state.defaulthttp + \"/read\",\r\n        params\r\n      ),\r\n    });\r\n}","/* \r\n问题：\r\n背景图片应该是多张图片轮回播放且切换有浮现和淡出效果\r\n登录成功应该有对应状态框提示\r\n\r\n */\r\n\r\n\r\n<template>\r\n  <div class=\"userview\" @click=\"this.$store.commit('turnTopBar', 'user')\" @touchmove.prevent>\r\n    <div class=\"imgbox\"><img :src=\"img\" alt=\"图片\" /></div>\r\n    <!-- 登录界面 -->\r\n    <div v-show=\"!onLine\">\r\n      <div class=\"input-wripper\">\r\n        <div class=\"inputKey\">\r\n          <div>\r\n            <i class=\"fa fa-users\"></i>\r\n            <input type=\"text\" spellcheck=\"false\" v-model=\"username\" />\r\n          </div>\r\n          <div>\r\n            <i class=\"fa fa-hand-paper-o\"></i\r\n            ><input type=\"password\" spellcheck=\"false\" v-model=\"password\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"selectButton\">\r\n          <div class=\"onLineClick\" @click=\"login\">\r\n            <i :class=\"font\">{{ button }}</i>\r\n          </div>\r\n          <div class=\"message\">\r\n            <i>{{ onLineMessage }}</i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 用户信息界面 -->\r\n    <div v-show=\"onLine\" class=\"ONlineinfo\">\r\n      <div class=\"userInfo\">\r\n        <i class=\"fa fa-user\"></i>:\r\n        <i>{{ $store.state.username }}</i>\r\n      </div>\r\n      <div class=\"selectCard\">\r\n        <div>您已成功登录，感谢您的使用</div>\r\n        <div @click=\"fillOnLine\">点击此处即可退出当前登录</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport refresh from \"../api/refresh\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 双向绑定输入框内容\r\n      username: \"\",\r\n      password: \"\",\r\n      // 判断是否已登录\r\n      onLine: this.$store.state.onLineState,\r\n      // 登录按钮的动态显示\r\n      button: \"登录\",\r\n      font: \"\",\r\n      // 背景图片样式\r\n      img: require(\"../../public/01bb185d43ffb.jpg\"),\r\n      imgArray: [\r\n        require(\"../../public/01bb185d43ffb.jpg\"),\r\n        require(\"../../public/012ed85.jpg\"),\r\n        require(\"../../public/b1c1ef0.jpg\"),\r\n      ],\r\n      imgIndex: 1,\r\n      // 登录提示\r\n      onLineMessage: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    // 自动登录\r\n    if (!!localStorage.username && this.onLine == false) {\r\n      this.username = localStorage.username;\r\n      this.password = localStorage.password;\r\n      this.login();\r\n    }\r\n  },\r\n  activated() {\r\n    // 初始化图片轮播\r\n    clearInterval(window.time)\r\n    window.time = setInterval(() => {\r\n      this.img = this.imgArray[this.imgIndex];\r\n      this.imgIndex++;\r\n      if (this.imgIndex > 2) {\r\n        this.imgIndex = 0;\r\n      }\r\n    }, 8000);\r\n  },\r\n  methods: {\r\n    // 登录执行函数\r\n    login() {\r\n      // 将登录按钮改为旋转态\r\n      this.button = \"\";\r\n      this.font = \"fa fa-spin fa-circle-o-notch\";\r\n      let data = {\r\n        username: this.username,\r\n        password: this.password,\r\n      };\r\n      // 发送请求\r\n      this.axios\r\n        .post(\"http://\" + this.$store.state.defaulthttp + \"/userKey\", data)\r\n        .then((res) => {\r\n          if (res.data.state == true) {\r\n            data.newKey = res.data.newKey;\r\n            this.$store.commit(\"onLine\", data);\r\n            this.$store.commit(\"onLineState\", true);\r\n            this.onLine = true;\r\n            localStorage.username = data.username;\r\n            localStorage.password = data.password;\r\n            refresh(this);\r\n          } else {\r\n            return Promise.reject(res);\r\n          }\r\n        })\r\n        .catch((res) => {\r\n          // 登录失败\r\n          this.button = \"登录\";\r\n          this.font = \"\";\r\n          this.onLineMessage = res.data.content;\r\n        });\r\n    },\r\n    // 退出当前登录\r\n    fillOnLine() {\r\n      this.onLine = false;\r\n      this.$store.commit(\"onLine\", {\r\n        username: \"\",\r\n        password: \"\",\r\n        newKey: null,\r\n      });\r\n      this.$store.commit(\"onLineState\", false);\r\n      this.button = \"登录\";\r\n      this.font = \"\";\r\n      localStorage.username = \"\";\r\n      localStorage.password = \"\";\r\n      // 退出登录后刷掉当前read页面数据\r\n      refresh(this);\r\n    },\r\n  },\r\n  meta: {\r\n    keepAlive: true,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.userview {\r\n  // 最外层router-view界面\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  height: 60vh;\r\n  .input-wripper {\r\n    // 登录界面\r\n    height: 30vh;\r\n    width: 95vw;\r\n    box-shadow: 0 0 10px rgb(165, 165, 165);\r\n    border-radius: 7px;\r\n    background-color: rgba(250, 250, 250, 0.5);\r\n    .inputKey {\r\n      // 输入信息盒子\r\n      height: 60%;\r\n      width: 100%;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: space-around;\r\n      align-content: center;\r\n      i {\r\n        // 输入框前图标\r\n        margin-right: 1vh;\r\n      }\r\n      input {\r\n        // 用户名与密码输入框\r\n        border: none;\r\n        height: 4vh;\r\n        width: 64vw;\r\n        padding: 0 10px;\r\n        border-radius: 20px;\r\n        margin: 1vh 0;\r\n        background-color: cadetblue;\r\n        color: black;\r\n        &:focus {\r\n          outline: none;\r\n        }\r\n      }\r\n    }\r\n    .selectButton {\r\n      // 选项按钮\r\n      height: 40%;\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-content: flex-start;\r\n      flex-wrap: wrap;\r\n      .onLineClick {\r\n        height: 4vh;\r\n        width: 60%;\r\n        background-color: rgb(101, 148, 218);\r\n        display: flex;\r\n        justify-content: space-around;\r\n        align-items: center;\r\n        border-radius: 20px;\r\n      }\r\n      .message {\r\n        color: red;\r\n        height: 3vh;\r\n        width: 60%;\r\n        text-align: center;\r\n        margin-top: 10px;\r\n      }\r\n    }\r\n  }\r\n  .imgbox {\r\n    // 背景图片样式\r\n    position: fixed;\r\n    top: 0;\r\n    z-index: -1;\r\n    img {\r\n      width: 100vw;\r\n      height: 80vh;\r\n      animation: gif 8s linear infinite;\r\n    }\r\n  }\r\n  .ONlineinfo {\r\n    // 登录成功后页面\r\n    width: 100vw;\r\n    height: 60vh;\r\n    .userInfo {\r\n      // 用户信息的展示\r\n      width: 100vw;\r\n      height: 20vh;\r\n      font-size: 24px;\r\n      color: tomato;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      i {\r\n        margin: 0 10px;\r\n      }\r\n    }\r\n    .selectCard {\r\n      // 操作卡片容器\r\n      height: 60vh;\r\n      width: 100vw;\r\n      background-color: rgba(218, 218, 218, 0.5);\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n    }\r\n  }\r\n}\r\n// 背景图片动画\r\n@keyframes gif {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  10% {\r\n    opacity: 1;\r\n  }\r\n  90% {\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n    transform: scale(1.2);\r\n  }\r\n}\r\n</style>\r\n\r\n","import { render } from \"./userview.vue?vue&type=template&id=7bc878d0&scoped=true\"\nimport script from \"./userview.vue?vue&type=script&lang=js\"\nexport * from \"./userview.vue?vue&type=script&lang=js\"\n\nimport \"./userview.vue?vue&type=style&index=0&id=7bc878d0&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Le'novo\\\\Desktop\\\\web前端\\\\xiao-shuo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7bc878d0\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/012ed85.0a06cfd4.jpg\";","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./userview.vue?vue&type=style&index=0&id=7bc878d0&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/b1c1ef0.852756bb.jpg\";"],"sourceRoot":""}